(this["webpackJsonptickets-react"]=this["webpackJsonptickets-react"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),c=a.n(r),i=(a(75),a(69)),o=a(10),l=a(11),d=a(13),u=a(12),h=a(9),j=a(109),m=a(2),b=a(3),g=a(1),p=["user","component","render"],O=function(e){var t=e.user,a=e.component,n=e.render,s=Object(b.a)(e,p);return t&&n?Object(g.jsx)(h.b,Object(m.a)(Object(m.a)({},s),{},{render:n})):Object(g.jsx)(h.b,Object(m.a)(Object(m.a)({},s),{},{render:function(e){return t?Object(g.jsx)(a,Object(m.a)({},e)):Object(g.jsx)(h.a,{to:"/"})}}))},f=a(50),x=(a(84),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClose=function(){return n.setState({show:!1})},n.state={show:!0},n.timeoutId=null,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(this.handleClose,5e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.variant,a=e.heading,n=e.message,s=e.deleteAlert,r=e.id;return this.state.show||setTimeout((function(){s(r)}),300),Object(g.jsx)(f.a,{dismissible:!0,show:this.state.show,variant:t,onClose:this.handleClose,children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(f.a.Heading,{children:a}),Object(g.jsx)("p",{className:"alert-body",children:n})]})})}}]),a}(s.a.Component)),k=a(68),v=a(36),w=a(8),C=Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)(w.c,{to:"/change-password",className:"nav-link",children:"Change Password"}),Object(g.jsx)(w.c,{to:"/sign-out",className:"nav-link",children:"Sign Out"}),Object(g.jsx)(w.c,{to:"/tickets",className:"nav-link",children:"View all Tickets"}),Object(g.jsx)(w.c,{to:"/create-ticket",className:"nav-link",children:"Create Ticket"})]}),y=Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)(w.c,{to:"/sign-up",className:"nav-link",children:"Sign Up"}),Object(g.jsx)(w.c,{to:"/sign-in",className:"nav-link",children:"Sign In"})]}),S=Object(g.jsx)(n.Fragment,{children:Object(g.jsx)(w.c,{exact:!0,to:"/",className:"nav-link",children:"Home"})}),N=function(e){var t=e.user;return Object(g.jsxs)(v.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(g.jsx)(v.a.Brand,{children:Object(g.jsx)(w.b,{to:"/",style:{color:"#FFF",textDecoration:"none"},children:"Pick It Ticket"})}),Object(g.jsx)(v.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(v.a.Collapse,{id:"basic-navbar-nav",children:Object(g.jsxs)(k.a,{className:"ml-auto",children:[t&&Object(g.jsxs)("span",{className:"navbar-text mr-2",children:["Welcome, ",t.email]}),S,t?C:y]})})]})},A=a(7),T="https://intense-basin-51180.herokuapp.com",P="http://localhost:4741",D="localhost"===window.location.hostname?P:T,U=a(23),I=a.n(U),F=function(e){return I()({url:D+"/sign-in/",method:"POST",data:{credentials:{email:e.email,password:e.password}}})},L=a(5),G=a(16),q=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){return n.setState(Object(A.a)({},e.target.name,e.target.value))},n.onSignUp=function(e){e.preventDefault();var t,a=n.props,s=a.msgAlert,r=a.history,c=a.setUser;(t=n.state,I()({method:"POST",url:D+"/sign-up/",data:{credentials:{email:t.email,password:t.password,password_confirmation:t.passwordConfirmation}}})).then((function(){return F(n.state)})).then((function(e){return c(e.data.user)})).then((function(){return s({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"})})).then((function(){return r.push("/")})).catch((function(e){n.setState({email:"",password:"",passwordConfirmation:""}),s({heading:"Sign Up Failed with error: "+e.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"})}))},n.state={email:"",password:"",passwordConfirmation:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.passwordConfirmation;return Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(g.jsx)("h3",{children:"Sign Up"}),Object(g.jsxs)(L.a,{onSubmit:this.onSignUp,children:[Object(g.jsxs)(L.a.Group,{controlId:"email",children:[Object(g.jsx)(L.a.Label,{children:"Email address"}),Object(g.jsx)(L.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(g.jsxs)(L.a.Group,{controlId:"password",children:[Object(g.jsx)(L.a.Label,{children:"Password"}),Object(g.jsx)(L.a.Control,{required:!0,name:"password",value:a,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(g.jsxs)(L.a.Group,{controlId:"passwordConfirmation",children:[Object(g.jsx)(L.a.Label,{children:"Password Confirmation"}),Object(g.jsx)(L.a.Control,{required:!0,name:"passwordConfirmation",value:n,type:"password",placeholder:"Confirm Password",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{variant:"info",type:"submit",children:"Submit"})]})]})})}}]),a}(n.Component),B=Object(h.f)(q),E=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){return n.setState(Object(A.a)({},e.target.name,e.target.value))},n.onSignIn=function(e){e.preventDefault();var t=n.props,a=t.msgAlert,s=t.history,r=t.setUser;F(n.state).then((function(e){return r(e.data.user)})).then((function(){return a({heading:"Sign In Success",message:"Welcome!",variant:"success"})})).then((function(){return s.push("/")})).catch((function(e){n.setState({email:"",password:""}),a({heading:"Sign In Failed with error: "+e.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"})}))},n.state={email:"",password:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(g.jsx)("h3",{children:"Sign In"}),Object(g.jsxs)(L.a,{onSubmit:this.onSignIn,children:[Object(g.jsxs)(L.a.Group,{controlId:"email",children:[Object(g.jsx)(L.a.Label,{children:"Email address"}),Object(g.jsx)(L.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(g.jsxs)(L.a.Group,{controlId:"password",children:[Object(g.jsx)(L.a.Label,{children:"Password"}),Object(g.jsx)(L.a.Control,{required:!0,name:"password",value:a,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{variant:"info",type:"submit",children:"Submit"})]})]})})}}]),a}(n.Component),z=Object(h.f)(E),V=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msgAlert,a=e.history,n=e.clearUser;(function(e){return I()({url:D+"/sign-out/",method:"DELETE",headers:{Authorization:"Bearer ".concat(e.token)}})})(e.user).finally((function(){return t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"})})).finally((function(){return a.push("/")})).finally((function(){return n()}))}},{key:"render",value:function(){return""}}]),a}(n.Component),H=Object(h.f)(V),M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){return n.setState(Object(A.a)({},e.target.name,e.target.value))},n.onChangePassword=function(e){e.preventDefault();var t=n.props,a=t.msgAlert,s=t.history,r=t.user;(function(e,t){return I()({url:D+"/change-password/",method:"PATCH",headers:{Authorization:"Bearer ".concat(t.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})(n.state,r).then((function(){return a({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"})})).then((function(){return s.push("/")})).catch((function(e){n.setState({oldPassword:"",newPassword:""}),a({heading:"Change Password Failed with error: "+e.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"})}))},n.state={oldPassword:"",newPassword:""},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.oldPassword,a=e.newPassword;return Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(g.jsx)("h3",{children:"Change Password"}),Object(g.jsxs)(L.a,{onSubmit:this.onChangePassword,children:[Object(g.jsxs)(L.a.Group,{controlId:"oldPassword",children:[Object(g.jsx)(L.a.Label,{children:"Old password"}),Object(g.jsx)(L.a.Control,{required:!0,name:"oldPassword",value:t,type:"password",placeholder:"Old Password",onChange:this.handleChange})]}),Object(g.jsxs)(L.a.Group,{controlId:"newPassword",children:[Object(g.jsx)(L.a.Label,{children:"New Password"}),Object(g.jsx)(L.a.Control,{required:!0,name:"newPassword",value:a,type:"password",placeholder:"New Password",onChange:this.handleChange})]}),Object(g.jsx)(G.a,{variant:"info",type:"submit",children:"Submit"})]})]})})}}]),a}(n.Component),W=Object(h.f)(M),_=function(e,t){return I()({url:D+"/tickets/"+e,method:"get",headers:{Authorization:"Bearer ".concat(t.token)}})},Y=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=Object(A.a)({},e.target.name,e.target.value);n.setState((function(e){return{ticket:Object(m.a)(Object(m.a)({},e.ticket),t)}}))},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.user,s=t.msgAlert,r=t.history;(function(e,t){return I()({url:D+"/create-ticket",method:"post",data:{ticket:e.ticket},headers:{Authorization:"Bearer ".concat(t.token)}})})(n.state,a).then((function(e){return r.push("/tickets")})).then((function(){return s({heading:"Ticket created Successfully",message:"nice work go check out your Ticket",variant:"success"})})).catch((function(e){s({heading:"Ticket creation failed",message:"something went wrong "+e.message,variant:"danger"})}))},n.state={ticket:{ticketName:"",ticketDescription:"",location:""}},n}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(L.a,{onSubmit:this.handleSubmit,className:"text-center",children:[Object(g.jsx)("h3",{className:"text-dark",children:"Create New Ticket Log"}),Object(g.jsxs)(L.a.Group,{controlId:"ticketName",children:[Object(g.jsx)(L.a.Label,{className:"text-dark",children:"Ticket Name"}),Object(g.jsx)(L.a.Control,{required:!0,onChange:this.handleChange,name:"ticketName",defaultValue:this.state.ticket.ticketName,placeholder:"Ticket Name"})]}),Object(g.jsxs)(L.a.Group,{children:[Object(g.jsx)(L.a.Label,{className:"text-dark",children:"Ticket Description"}),Object(g.jsx)(L.a.Control,{required:!0,onChange:this.handleChange,name:"ticketDescription",defaultValue:this.state.ticket.ticketDescription,placeholder:"Description"})]}),Object(g.jsxs)(L.a.Group,{children:[Object(g.jsx)(L.a.Label,{className:"text-dark",children:"Location"}),Object(g.jsx)(L.a.Control,{required:!0,onChange:this.handleChange,name:"location",defaultValue:this.state.ticket.location,placeholder:"Where is the event located at?"})]}),Object(g.jsx)(G.a,{type:"submit",variant:"info",className:"grad my-3",style:{width:"100%"},children:"Submit"})]})})}}]),a}(n.Component),J=Object(h.f)(Y),R=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props,t=e.user,a=e.msgAlert;(function(e,t){return I()({url:D+"/tickets?user="+e._id,method:"get",headers:{Authorization:"Bearer ".concat(e.token)}})})(t,t._id).then((function(e){return console.log(e),e})).then((function(e){n.setState({ticket:e.data.ticket})})).catch((function(e){return a({heading:"Index failed",message:"Something went wrong"+e.message,variant:"danger"})}))},n.state={ticket:null,loading:!1},n}return Object(l.a)(a,[{key:"render",value:function(){var e,t=this.state.ticket;return null===t?"Loading...":(e=0===t.length?"You do not have any tickets. Go ahead create one! :)":t.map((function(e){return Object(g.jsx)("li",{children:Object(g.jsx)(w.b,{to:"/tickets/".concat(e._id),children:e.ticketName})},e._id)})),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{children:"All Tickets That Are Up For Sale"}),Object(g.jsx)("br",{}),e]}))}}]),a}(n.Component),K=a(110),Q=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDelete=function(e){console.log("adam");var t=n.props,a=t.match,s=t.user,r=t.msgAlert,c=t.history;(function(e,t){return I()({url:D+"/tickets/"+e,method:"delete",headers:{Authorization:"Bearer ".concat(t.token)}})})(a.params.id,s).then((function(){return c.push("/tickets")})).then((function(){return r({heading:"Ticket Deleted Successfully",message:"Your Ticket no longer exists",variant:"success"})})).catch((function(e){return r({heading:"Failed to Delete Your Ticket",message:"Something went wrong: "+e.message,variant:"danger"})}))},n.state={ticket:{ticketName:"",ticketDescription:"",location:""}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.match,n=t.user,s=t.msgAlert;_(a.params.id,n).then((function(t){return e.setState({ticket:t.data.ticket})})).then((function(){return s({heading:"show ticket success",message:"check out the ticket",variant:"success"})})).catch((function(e){return s({heading:"Show ticket failed",message:"something went wrong"+e.message,variant:"danger"})}))}},{key:"render",value:function(){var e=this.state.ticket,t=e.ticketName,a=e.ticketDescription,n=e.location,s=e.owner,r=this.props,c=r.match,i=r.user,o=i._id===s?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.b,{to:"/tickets/".concat(c.params.id,"/update"),children:Object(g.jsx)(G.a,{variant:"info",style:{width:"100%",display:"grid",textDecoration:"none"},children:"-Update-"})}),Object(g.jsx)(G.a,{onClick:this.handleDelete,variant:"dark",style:{width:"100%",display:"grid",paddingTop:"15px"},children:"-Delete-"})]}):null;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(K.a,{className:"card-grad m-2",style:{width:"auto",height:"auto",color:"grey"},children:[o,Object(g.jsx)(K.a.Header,{className:"dark-bg text dark",children:Object(g.jsx)("div",{className:"d-flex justify-content-end",children:Object(g.jsx)("p",{className:"text-center",style:{margin:"auto"},children:"".concat(i.email,"'s ticket:")})})}),Object(g.jsx)(K.a.Body,{className:"dark-bg d-flex justify-content-start justify-content-md-center flex-wrap",children:Object(g.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(g.jsxs)("li",{className:"list-group-item",children:["Ticket Name: ",t]}),Object(g.jsx)("br",{}),Object(g.jsxs)("li",{className:"list-group-item",children:["Ticket Description: ",a]}),Object(g.jsx)("br",{}),Object(g.jsxs)("li",{className:"list-group-item",children:["Where is the event located at?: ",n]})]})})]})})}}]),a}(n.Component),X=Object(h.f)(Q),Z=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=Object(A.a)({},e.target.name,e.target.value);n.setState((function(e){return{ticket:Object(m.a)(Object(m.a)({},e.ticket),t)}}))},n.handleSubmit=function(e){e.preventDefault();var t=n.props,a=t.user,s=t.msgAlert,r=t.history,c=t.match;(function(e,t,a){return I()({method:"PATCH",url:D+"/tickets/".concat(t),data:{ticket:e},headers:{Authorization:"Bearer ".concat(a.token)}})})(n.state.ticket,c.params.id,a).then((function(e){return r.push("/tickets")})).then((function(){return s({heading:"Ticket updated Successfully",message:"nice work go check out your Ticket",variant:"success"})})).catch((function(e){s({heading:"Ticket update failed",message:"something went wrong "+e.message,variant:"danger"})}))},n.state={ticket:{ticketName:"",ticketDescription:"",location:""}},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.match,n=t.user,s=t.location;_(a.params.id,n,s.ticketId).then((function(t){return e.setState({ticket:t.data.ticket})}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(L.a,{onSubmit:this.handleSubmit,className:"text-center",children:[Object(g.jsx)("h3",{className:"text-dark",children:"Update Ticket Log"}),Object(g.jsxs)(L.a.Group,{controlId:"name",children:[Object(g.jsx)(L.a.Label,{className:"text-dark",children:"Ticket Name"}),Object(g.jsx)(L.a.Control,{required:!0,onChange:this.handleChange,name:"name",defaultValue:this.state.ticket.ticketName,placeholder:"Ticket Name"})]}),Object(g.jsxs)(L.a.Group,{children:[Object(g.jsx)(L.a.Label,{className:"text-dark",children:"Ticket Description"}),Object(g.jsx)(L.a.Control,{required:!0,onChange:this.handleChange,name:"description",defaultValue:this.state.ticket.ticketDescription,placeholder:"Description"})]}),Object(g.jsxs)(L.a.Group,{children:[Object(g.jsx)(L.a.Label,{className:"text-dark",children:"Location"}),Object(g.jsx)(L.a.Control,{required:!0,onChange:this.handleChange,name:"location",defaultValue:this.state.ticket.location,placeholder:"Where is the event located at?"})]}),Object(g.jsx)(G.a,{type:"submit",variant:"info",className:"grad my-3",style:{width:"100%"},children:"Submit"})]}),Object(g.jsx)(G.a,{onClick:function(){return e.handleDelete},variant:"dark",style:{width:"100%"},children:"Delete"})]})}}]),a}(n.Component),$=Object(h.f)(Z),ee=a(67);function te(){return Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("div",{style:{height:"30vh"},children:Object(g.jsx)("h1",{className:"animated animatedFadeInUp fadeInUp",style:{marginTop:"10vh",color:"primary",textDecoration:"none"},children:"This App Allows Users To Create A Tickets And Update Tickets That Any Events Is Coming Up."})}),Object(g.jsx)("div",{children:Object(g.jsxs)(ee.a,{children:[Object(g.jsx)("p",{style:{color:"black",fontSize:"27px"},children:"To get started using Pick It Tickets you must first create an account to enter and keep track of yours. Once is entered, you can view that ticket, as well as any following runs you may enter. Each tickets will have the option to be updated and/or deleted."}),Object(g.jsx)("h2",{children:"Created By Pablo Maldonado-Hernandez"})]})})]})}var ae=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setUser=function(e){return n.setState({user:e})},n.clearUser=function(){return n.setState({user:null})},n.deleteAlert=function(e){n.setState((function(t){return{msgAlerts:t.msgAlerts.filter((function(t){return t.id!==e}))}}))},n.msgAlert=function(e){var t=e.heading,a=e.message,s=e.variant,r=Object(j.a)();n.setState((function(e){return{msgAlerts:[].concat(Object(i.a)(e.msgAlerts),[{heading:t,message:a,variant:s,id:r}])}}))},n.state={user:null,msgAlerts:[]},n}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.msgAlerts,s=t.user;return Object(g.jsxs)(n.Fragment,{children:[Object(g.jsx)(N,{user:s}),a.map((function(t){return Object(g.jsx)(x,{heading:t.heading,variant:t.variant,message:t.message,id:t.id,deleteAlert:e.deleteAlert},t.id)})),Object(g.jsxs)("main",{className:"container",children:[Object(g.jsx)(h.b,{path:"/sign-up",render:function(){return Object(g.jsx)(B,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(g.jsx)(h.b,{path:"/sign-in",render:function(){return Object(g.jsx)(z,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(g.jsx)(h.b,{path:"/",exact:!0,render:function(){return Object(g.jsx)(te,{msgAlert:e.msgAlert,setUser:e.setUser})}}),Object(g.jsx)(O,{user:s,path:"/sign-out",render:function(){return Object(g.jsx)(H,{msgAlert:e.msgAlert,clearUser:e.clearUser,user:s})}}),Object(g.jsx)(O,{user:s,path:"/change-password",render:function(){return Object(g.jsx)(W,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(O,{user:s,exact:!0,path:"/create-ticket",render:function(){return Object(g.jsx)(J,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(O,{user:s,exact:!0,path:"/tickets",render:function(){return Object(g.jsx)(R,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(O,{user:s,exact:!0,path:"/tickets/:id/update",render:function(){return Object(g.jsx)($,{msgAlert:e.msgAlert,user:s})}}),Object(g.jsx)(O,{user:s,exact:!0,path:"/tickets/:id",render:function(){return Object(g.jsx)(X,{msgAlert:e.msgAlert,user:s})}})]})]})}}]),a}(n.Component),ne=Object(g.jsx)(w.a,{basename:"/tickets-react",children:Object(g.jsx)(ae,{})});c.a.render(ne,document.getElementById("root"))},75:function(e,t,a){},84:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.11adf7e3.chunk.js.map